import{_ as D,r as m,o as n,a as l,b as a,t as T,F as E,j as I,n as y,k as W,u as g,l as z,h as B,m as $,f as h,p as k,T as U,g as j,e as p,q as L}from"./index-DjtGVhf8.js";const P={key:0,class:"placeholder"},F={key:1,class:"images-container"},G=["src"],H={class:"image-selection"},K={class:"available-images"},R=["src","onClick"],J=7,Q={__name:"DragImagen",setup(w){const e=m([]),t=m(!1),v=m(["/src/assets/comandos/celeste.png","/src/assets/comandos/rojo.png","/src/assets/comandos/verde.png","/src/assets/comandos/naranja.png","/src/assets/comandos/izquierda.png","/src/assets/comandos/derecha.png","/src/assets/comandos/off.png"]),o=s=>{let r;return s<0?r=256+s:r=s,new Uint8Array([1,1,1,r])},d=async(s,r)=>{if(window.motorCharacteristic)try{return await window.motorCharacteristic.writeValue(s),console.log(`Motor encendido con comando: ${s}`),new Promise(u=>{setTimeout(async()=>{const f=o(0);await window.motorCharacteristic.writeValue(f),console.log("Motor detenido."),u()},r)})}catch(u){console.error("Error enviando comando al motor:",u)}},b={"/src/assets/comandos/celeste.png":new Uint8Array([6,4,1,3]),"/src/assets/comandos/rojo.png":new Uint8Array([6,4,1,9]),"/src/assets/comandos/verde.png":new Uint8Array([6,4,1,6]),"/src/assets/comandos/naranja.png":new Uint8Array([6,4,1,8]),"/src/assets/comandos/off.png":new Uint8Array([6,4,1,0])},x={"/src/assets/comandos/izquierda.png":async()=>{const s=o(-50);await d(s,700)},"/src/assets/comandos/derecha.png":async()=>{const s=o(50);await d(s,700)}},C=async s=>{for(const r of s)await r()},i=async()=>{if(!window.motorCharacteristic||!window.colorCharacteristic){console.log("No hay conexión con el dispositivo WeDo.");return}const s=[];try{for(const r of e.value)b[r]?(console.log(`Enviando comando de color para: ${r}`),s.push(async()=>{await window.colorCharacteristic.writeValue(b[r])})):x[r]&&(console.log(`Enviando comando de motor para: ${r}`),s.push(x[r]));await C(s),console.log("Comandos enviados con éxito.")}catch(r){console.error("Error enviando los comandos:",r)}},_=s=>{e.value.length<J&&e.value.push(s)},O=()=>{e.value=[]},S=s=>{s.preventDefault()},V=()=>{t.value=!0},A=()=>{t.value=!1},N=s=>{s.preventDefault(),t.value=!1};return(s,r)=>(n(),l("div",null,[a("div",{class:y(["drop-zone",{"drop-zone-dragging":t.value}]),onDragover:S,onDragenter:V,onDragleave:A,onDrop:N},[e.value.length?(n(),l("div",F,[(n(!0),l(E,null,I(e.value,(u,f)=>(n(),l("img",{key:f,src:u,class:"uploaded-image",onClick:r[0]||(r[0]=W(()=>{},["stop"]))},null,8,G))),128))])):(n(),l("div",P,T(t.value?"Suelta aquí":"Arrastra y suelta las imágenes"),1))],34),a("div",H,[a("button",{class:"fun-button clearbutton",onClick:O},"Limpiar Imágenes"),a("button",{class:"fun-button sendbutton",onClick:i},"Enviar Comandos"),a("div",K,[(n(!0),l(E,null,I(v.value,(u,f)=>(n(),l("img",{key:f,src:u,class:"selectable-image",onClick:ye=>_(u)},null,8,R))),128))])])]))}},X=D(Q,[["__scopeId","data-v-87d45f93"]]),Y="/assets/motor_encendido-CE37SRvW.png",Z="/assets/bluethooth-BmqGGSNk.png",c=m(!1);m(null);const ee={class:"main-container"},oe={key:0,id:"indicaciones",class:"text-center"},te=["disabled"],se={key:0},ae={key:1},ne=["disabled"],re={key:0},le={key:1},ce={__name:"Button_Connect",setup(w){const e=m(!1);let t=null,v=null,o=null,d=null;const b=()=>t&&t.gatt&&t.gatt.connected,x=async()=>{e.value=!0;try{t=await navigator.bluetooth.requestDevice({filters:[{services:["00001523-1212-efde-1523-785feabcd123"]}],optionalServices:["00004f0e-1212-efde-1523-785feabcd123","battery_service"]}),v=await t.gatt.connect();const i=await v.getPrimaryService("00004f0e-1212-efde-1523-785feabcd123");o=await i.getCharacteristic("00001565-1212-efde-1523-785feabcd123"),d=await i.getCharacteristic("00001565-1212-efde-1523-785feabcd123"),window.device=t,window.server=v,window.motorCharacteristic=o,window.colorCharacteristic=d,b()?(c.value=!0,console.log("Conectado a LEGO WeDo 2.0 con características disponibles.")):(console.error("La conexión falló."),c.value=!1)}catch(i){console.error("Error conectando al dispositivo WeDo:",i),c.value=!1}finally{e.value=!1}},C=async()=>{e.value=!0;try{window.device&&window.device.gatt.connected?(await window.device.gatt.disconnect(),c.value=!1,console.log("Desconectado de LEGO WeDo 2.0"),window.device=null,window.server=null,window.motorCharacteristic=null,window.colorCharacteristic=null):console.log("No hay dispositivo conectado para desconectar.")}catch(i){console.error("Error desconectando del dispositivo WeDo:",i)}finally{e.value=!1}};return(i,_)=>(n(),l("div",ee,[g(c)?B("",!0):(n(),l("div",oe,_[0]||(_[0]=[z('<h1 class="text-2xl font-bold text-black rounded-lg shadow-md" data-v-2ef155ff> Conectemos el Helicóptero al tablet </h1><h2 class="text-xl font-bold text-black p-2 rounded-lg shadow-md" data-v-2ef155ff> 1. Presiona durante 5 segundos el botón superior de tu helicóptero como se muestra en la imagen que sigue: </h2><img src="'+Y+'" class="mx-auto" height="100px" width="100px" alt="Motor encendido" data-v-2ef155ff><h2 class="text-xl font-bold text-black p-2 rounded-lg shadow-md" data-v-2ef155ff> 2. Activa el bluetooth del Tablet presionando el siguiente ícono: </h2><img src="'+Z+'" class="mx-auto" width="100px" height="100px" alt="Bluetooth" data-v-2ef155ff><h2 class="text-xl font-bold text-black rounded-lg" data-v-2ef155ff> Si se conectó a su modelo correctamente, debería mostrarse la siguiente pantalla </h2>',6)]))),a("div",{class:y(["button-container",{centered:!g(c)}])},[g(c)?(n(),l("button",{key:1,onClick:C,class:y(["mt-3",{disconnect:g(c),loading:e.value}]),disabled:e.value},[e.value?(n(),l("span",re,"Desconectando...")):(n(),l("span",le,"Desconectar de tu MODELO"))],10,ne)):(n(),l("button",{key:0,onClick:x,class:y([{connect:!g(c),loading:e.value},"mt-52"]),disabled:e.value},[e.value?(n(),l("span",se,"Buscando tu MODELO ...")):(n(),l("span",ae,"Conectar a tu MODELO"))],10,te))],2)]))}},M=D(ce,[["__scopeId","data-v-2ef155ff"]]),de={key:0,class:"modal-mask"},ie={class:"modal-container"},ue={class:"modal-header"},me={class:"modal-body"},ve={class:"modal-footer"},q={__name:"Modal_instrucciones",props:{show:Boolean},setup(w){return(e,t)=>(n(),$(U,{name:"modal"},{default:h(()=>[w.show?(n(),l("div",de,[a("div",ie,[a("div",ue,[k(e.$slots,"header",{},()=>[t[1]||(t[1]=j("default header"))])]),a("div",me,[k(e.$slots,"body",{},()=>[t[2]||(t[2]=j("default body"))])]),a("div",ve,[k(e.$slots,"footer",{},()=>[a("button",{class:"bg-red-600 text-white font-bold py-4 px-6 rounded-full shadow-lg hover:bg-green-500 transition duration-300 text-2xl w-1/3",onClick:t[0]||(t[0]=v=>e.$emit("close"))}," OK ")])])])])):B("",!0)]),_:3}))}},ge={class:"lego-playground"},fe={class:"toy-border"},pe={class:"toy-content"},he={key:0,class:"connect-container"},we={key:1,class:"flex"},be={class:"w-5/5"},xe={class:"flex justify-between"},_e={__name:"VistaIngeniero",setup(w){const e=m(!1),t=m(!1);return(v,o)=>(n(),l("div",ge,[a("div",fe,[a("div",pe,[o[4]||(o[4]=a("h1",{class:"playground-title"},null,-1)),g(c)?(n(),l("div",we,[a("div",be,[a("div",xe,[a("button",{id:"show-modal-left",onClick:o[0]||(o[0]=d=>e.value=!0),class:"bg-blue-400 text-white font-bold py-4 px-6 rounded-full shadow-lg hover:bg-blue-500 transition duration-300 text-2xl w-1/3"}," Instrucciones "),a("button",{id:"show-modal-right",onClick:o[1]||(o[1]=d=>t.value=!0),class:"bg-green-400 text-white font-bold py-4 px-6 rounded-full shadow-lg hover:bg-green-500 transition duration-300 text-2xl w-1/3"}," Comandos ")]),p(M),p(X)])])):(n(),l("div",he,[p(M)]))]),(n(),$(L,{to:"body"},[p(q,{show:e.value,onClose:o[2]||(o[2]=d=>e.value=!1)},{header:h(()=>o[5]||(o[5]=[a("h3",{class:"text-2xl font-extrabold text-purple-500 bg-yellow-300 p-4 rounded-lg shadow-md mb-4"}," El helicóptero debe ser funcional ",-1)])),body:h(()=>o[6]||(o[6]=[a("h3",{class:"text-xl font-bold text-pink-500 mb-4 leading-relaxed"}," Para rescatar a alguien de un incendio el canasto de nuestro helicóptero debe bajar, detenerse, luego subir y volver a detenerse. Los recorridos de subida y bajada duran 5 segundos cada uno, entonces deben ser cuidadosos en no sobrepasar ese tiempo porque el motor u otra pieza del helicóptero. Las flechas indican en que dirección se mueve el canasto de rescate y los cuadrados rojos. ",-1),a("h3",{class:"text-xl font-bold text-green-500 mb-4 leading-relaxed"}," Programa la secuencia correspondiente arrastrando los objetos a la línea de comandos. Observa el número de cada objeto, indica el tiempo que se ejecuta. ",-1)])),_:1},8,["show"])])),(n(),$(L,{to:"body"},[p(q,{show:t.value,onClose:o[3]||(o[3]=d=>t.value=!1)},{header:h(()=>o[7]||(o[7]=[a("h3",null,"El helicóptero debe ser funcional",-1)])),body:h(()=>o[8]||(o[8]=[a("h3",null,"hola",-1)])),_:1},8,["show"])]))])]))}},ke=D(_e,[["__scopeId","data-v-1438420f"]]);export{ke as default};
